### 业务上的需求
在网页中配置完word报告的指标后，点击生成报告。后端响应生成报告请求，开始异步执行报告导出程序。报告内容中有部分是图表，需要借助前端渲染完后返回下载链接。

### 实现逻辑
基于egg.js框架编写node服务，以供报告导出程序请求。请求为post请求，请求时在消息体中携带图片渲染所需数据。最终数据经由puppeteer page实例中的evaluate方法传递到Echart图片渲染页。

### 代码实现
代码主要分为两部分：Node接口部分，Echarts图片渲染部分。

#### Node接口
先说Node接口，一直都说Node的掌握是一个前端进阶的槛，现在看确实如此。自己调用自己接口的感觉很奇妙，和早之前写.Net的感觉完全不一样。

继续看egg文档