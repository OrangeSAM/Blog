<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue.js全家桶及源码剖析 | 刘一笔的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-0X7CLSMP1X"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0X7CLSMP1X');</script>
    <link rel="icon" href="/logo.jpg">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/logo.jpg">
    <link rel="mask-icon" href="/logo.jpg" color="#3eaf7c">
    <meta name="description" content="博客，日常记录，JavaScript，CSS，LeetCode，Node，HTTP">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/logo.jpg">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.a0dd32a5.css" as="style"><link rel="preload" href="/assets/js/app.76e21587.js" as="script"><link rel="preload" href="/assets/js/2.ef2f9e2c.js" as="script"><link rel="preload" href="/assets/js/173.064a0a2e.js" as="script"><link rel="preload" href="/assets/js/3.1b3369a5.js" as="script"><link rel="prefetch" href="/assets/js/10.ef5f6156.js"><link rel="prefetch" href="/assets/js/100.2d3d65dc.js"><link rel="prefetch" href="/assets/js/101.3541b6a3.js"><link rel="prefetch" href="/assets/js/102.7c015d2f.js"><link rel="prefetch" href="/assets/js/103.1a2d5336.js"><link rel="prefetch" href="/assets/js/104.0b32bea5.js"><link rel="prefetch" href="/assets/js/105.a78d4b43.js"><link rel="prefetch" href="/assets/js/106.ee861420.js"><link rel="prefetch" href="/assets/js/107.1589de3b.js"><link rel="prefetch" href="/assets/js/108.8c652294.js"><link rel="prefetch" href="/assets/js/109.82572f5c.js"><link rel="prefetch" href="/assets/js/11.ff160937.js"><link rel="prefetch" href="/assets/js/110.f7df9431.js"><link rel="prefetch" href="/assets/js/111.c12b7478.js"><link rel="prefetch" href="/assets/js/112.f1219cc2.js"><link rel="prefetch" href="/assets/js/113.eb0a1acb.js"><link rel="prefetch" href="/assets/js/114.f8b5ecc0.js"><link rel="prefetch" href="/assets/js/115.8f904d78.js"><link rel="prefetch" href="/assets/js/116.46d26f9e.js"><link rel="prefetch" href="/assets/js/117.1b9742b9.js"><link rel="prefetch" href="/assets/js/118.83e370a4.js"><link rel="prefetch" href="/assets/js/119.16d4b644.js"><link rel="prefetch" href="/assets/js/12.e7ddc629.js"><link rel="prefetch" href="/assets/js/120.4a2435e3.js"><link rel="prefetch" href="/assets/js/121.148a13b1.js"><link rel="prefetch" href="/assets/js/122.975f6573.js"><link rel="prefetch" href="/assets/js/123.2bf384b5.js"><link rel="prefetch" href="/assets/js/124.2f08b951.js"><link rel="prefetch" href="/assets/js/125.2daa33a2.js"><link rel="prefetch" href="/assets/js/126.325ac660.js"><link rel="prefetch" href="/assets/js/127.7b208fea.js"><link rel="prefetch" href="/assets/js/128.51febaca.js"><link rel="prefetch" href="/assets/js/129.02cd3d89.js"><link rel="prefetch" href="/assets/js/13.e4441820.js"><link rel="prefetch" href="/assets/js/130.fabb7a6e.js"><link rel="prefetch" href="/assets/js/131.d5c59711.js"><link rel="prefetch" href="/assets/js/132.be868018.js"><link rel="prefetch" href="/assets/js/133.437d7062.js"><link rel="prefetch" href="/assets/js/134.c3e73e8b.js"><link rel="prefetch" href="/assets/js/135.23adb045.js"><link rel="prefetch" href="/assets/js/136.99c7ff32.js"><link rel="prefetch" href="/assets/js/137.b3fa1902.js"><link rel="prefetch" href="/assets/js/138.3dc8243b.js"><link rel="prefetch" href="/assets/js/139.3d892819.js"><link rel="prefetch" href="/assets/js/14.0ce04f59.js"><link rel="prefetch" href="/assets/js/140.9d7f60be.js"><link rel="prefetch" href="/assets/js/141.32b2b2da.js"><link rel="prefetch" href="/assets/js/142.00adaa85.js"><link rel="prefetch" href="/assets/js/143.bb7be1f6.js"><link rel="prefetch" href="/assets/js/144.45d47fb4.js"><link rel="prefetch" href="/assets/js/145.5652003b.js"><link rel="prefetch" href="/assets/js/146.81f064b1.js"><link rel="prefetch" href="/assets/js/147.43ace8a8.js"><link rel="prefetch" href="/assets/js/148.a1958ea5.js"><link rel="prefetch" href="/assets/js/149.0793fb2c.js"><link rel="prefetch" href="/assets/js/15.e40754cd.js"><link rel="prefetch" href="/assets/js/150.e6d8665e.js"><link rel="prefetch" href="/assets/js/151.6741ea95.js"><link rel="prefetch" href="/assets/js/152.6329f925.js"><link rel="prefetch" href="/assets/js/153.f0413f7e.js"><link rel="prefetch" href="/assets/js/154.04389ff6.js"><link rel="prefetch" href="/assets/js/155.b36365ee.js"><link rel="prefetch" href="/assets/js/156.61f7e004.js"><link rel="prefetch" href="/assets/js/157.28ce74b7.js"><link rel="prefetch" href="/assets/js/158.ba82dbcc.js"><link rel="prefetch" href="/assets/js/159.27165b72.js"><link rel="prefetch" href="/assets/js/16.ae79c6db.js"><link rel="prefetch" href="/assets/js/160.7d39c132.js"><link rel="prefetch" href="/assets/js/161.18fd3af5.js"><link rel="prefetch" href="/assets/js/162.1fd5bed5.js"><link rel="prefetch" href="/assets/js/163.93003a90.js"><link rel="prefetch" href="/assets/js/164.2547e16f.js"><link rel="prefetch" href="/assets/js/165.d37c669f.js"><link rel="prefetch" href="/assets/js/166.9642024f.js"><link rel="prefetch" href="/assets/js/167.5547deb5.js"><link rel="prefetch" href="/assets/js/168.8f2d1d31.js"><link rel="prefetch" href="/assets/js/169.7ae0f6f2.js"><link rel="prefetch" href="/assets/js/17.1e9c8d00.js"><link rel="prefetch" href="/assets/js/170.3d306df7.js"><link rel="prefetch" href="/assets/js/171.11f0a8dd.js"><link rel="prefetch" href="/assets/js/172.3e3ea2ca.js"><link rel="prefetch" href="/assets/js/174.0682728b.js"><link rel="prefetch" href="/assets/js/175.8a116a6d.js"><link rel="prefetch" href="/assets/js/176.cd54dfa8.js"><link rel="prefetch" href="/assets/js/177.d9c4fb82.js"><link rel="prefetch" href="/assets/js/178.5266f65f.js"><link rel="prefetch" href="/assets/js/179.2820ef56.js"><link rel="prefetch" href="/assets/js/18.443f25cc.js"><link rel="prefetch" href="/assets/js/180.ca4b4232.js"><link rel="prefetch" href="/assets/js/181.8a4c793e.js"><link rel="prefetch" href="/assets/js/182.94a0c965.js"><link rel="prefetch" href="/assets/js/183.cca63305.js"><link rel="prefetch" href="/assets/js/184.9825e05e.js"><link rel="prefetch" href="/assets/js/185.e34ca234.js"><link rel="prefetch" href="/assets/js/186.54eae001.js"><link rel="prefetch" href="/assets/js/187.88e3c084.js"><link rel="prefetch" href="/assets/js/188.580b07bc.js"><link rel="prefetch" href="/assets/js/189.3b14397a.js"><link rel="prefetch" href="/assets/js/19.0ee16591.js"><link rel="prefetch" href="/assets/js/190.4f9d4c49.js"><link rel="prefetch" href="/assets/js/191.dcf8c1b9.js"><link rel="prefetch" href="/assets/js/192.c1b4bce7.js"><link rel="prefetch" href="/assets/js/193.93731a06.js"><link rel="prefetch" href="/assets/js/194.586b98be.js"><link rel="prefetch" href="/assets/js/195.4de65e31.js"><link rel="prefetch" href="/assets/js/196.71a60f4c.js"><link rel="prefetch" href="/assets/js/197.1695f600.js"><link rel="prefetch" href="/assets/js/198.060d90ab.js"><link rel="prefetch" href="/assets/js/199.1260bbfa.js"><link rel="prefetch" href="/assets/js/20.f61ba541.js"><link rel="prefetch" href="/assets/js/200.979021f3.js"><link rel="prefetch" href="/assets/js/201.30080dfd.js"><link rel="prefetch" href="/assets/js/202.7e1e7257.js"><link rel="prefetch" href="/assets/js/203.ea8a7380.js"><link rel="prefetch" href="/assets/js/204.1e4a1f7a.js"><link rel="prefetch" href="/assets/js/205.1407fde9.js"><link rel="prefetch" href="/assets/js/206.fc65d02a.js"><link rel="prefetch" href="/assets/js/207.0d3b3dc1.js"><link rel="prefetch" href="/assets/js/208.48aa8317.js"><link rel="prefetch" href="/assets/js/209.2c17a3e6.js"><link rel="prefetch" href="/assets/js/21.973e996b.js"><link rel="prefetch" href="/assets/js/210.6567fcfe.js"><link rel="prefetch" href="/assets/js/211.1e295685.js"><link rel="prefetch" href="/assets/js/212.5e8b606f.js"><link rel="prefetch" href="/assets/js/213.0b2763c8.js"><link rel="prefetch" href="/assets/js/214.33042666.js"><link rel="prefetch" href="/assets/js/215.0bf677cb.js"><link rel="prefetch" href="/assets/js/216.d1f864a8.js"><link rel="prefetch" href="/assets/js/217.de1dbf6a.js"><link rel="prefetch" href="/assets/js/218.cb5d042d.js"><link rel="prefetch" href="/assets/js/219.23078b70.js"><link rel="prefetch" href="/assets/js/22.144f30cf.js"><link rel="prefetch" href="/assets/js/220.c0d00f42.js"><link rel="prefetch" href="/assets/js/221.e1453a03.js"><link rel="prefetch" href="/assets/js/222.f632daba.js"><link rel="prefetch" href="/assets/js/223.96902b87.js"><link rel="prefetch" href="/assets/js/224.c645a1c5.js"><link rel="prefetch" href="/assets/js/225.b740062f.js"><link rel="prefetch" href="/assets/js/226.67c591a1.js"><link rel="prefetch" href="/assets/js/227.9bbd2037.js"><link rel="prefetch" href="/assets/js/228.690fa881.js"><link rel="prefetch" href="/assets/js/229.8de9953d.js"><link rel="prefetch" href="/assets/js/23.bce43dff.js"><link rel="prefetch" href="/assets/js/230.65451e2a.js"><link rel="prefetch" href="/assets/js/231.14aa679c.js"><link rel="prefetch" href="/assets/js/232.164fdd38.js"><link rel="prefetch" href="/assets/js/233.657c198c.js"><link rel="prefetch" href="/assets/js/234.17274014.js"><link rel="prefetch" href="/assets/js/235.e335f0d1.js"><link rel="prefetch" href="/assets/js/236.21236351.js"><link rel="prefetch" href="/assets/js/237.ff765469.js"><link rel="prefetch" href="/assets/js/238.448c8d5d.js"><link rel="prefetch" href="/assets/js/239.12b1f06d.js"><link rel="prefetch" href="/assets/js/24.b281424d.js"><link rel="prefetch" href="/assets/js/240.52b3c1fe.js"><link rel="prefetch" href="/assets/js/241.592561ae.js"><link rel="prefetch" href="/assets/js/242.6d4c84fe.js"><link rel="prefetch" href="/assets/js/243.6b2803ac.js"><link rel="prefetch" href="/assets/js/244.722b598b.js"><link rel="prefetch" href="/assets/js/245.751ae5aa.js"><link rel="prefetch" href="/assets/js/246.f4460d4b.js"><link rel="prefetch" href="/assets/js/247.43791c9b.js"><link rel="prefetch" href="/assets/js/248.c8b055d4.js"><link rel="prefetch" href="/assets/js/249.e15c0a8a.js"><link rel="prefetch" href="/assets/js/25.349950c9.js"><link rel="prefetch" href="/assets/js/250.8ec249be.js"><link rel="prefetch" href="/assets/js/251.f4faa633.js"><link rel="prefetch" href="/assets/js/252.3731b04b.js"><link rel="prefetch" href="/assets/js/253.effbb760.js"><link rel="prefetch" href="/assets/js/254.f1347bdc.js"><link rel="prefetch" href="/assets/js/255.cf6f2e8a.js"><link rel="prefetch" href="/assets/js/256.a2c06947.js"><link rel="prefetch" href="/assets/js/257.f159321a.js"><link rel="prefetch" href="/assets/js/258.a2870a2a.js"><link rel="prefetch" href="/assets/js/259.3a70c2b7.js"><link rel="prefetch" href="/assets/js/26.cda2690c.js"><link rel="prefetch" href="/assets/js/260.d2ff937d.js"><link rel="prefetch" href="/assets/js/261.0a00e629.js"><link rel="prefetch" href="/assets/js/262.3236e5d6.js"><link rel="prefetch" href="/assets/js/263.18328b50.js"><link rel="prefetch" href="/assets/js/264.f0750871.js"><link rel="prefetch" href="/assets/js/265.5934a2d5.js"><link rel="prefetch" href="/assets/js/266.866a22b3.js"><link rel="prefetch" href="/assets/js/267.b55e7fc1.js"><link rel="prefetch" href="/assets/js/268.3c5a59c8.js"><link rel="prefetch" href="/assets/js/269.0029c735.js"><link rel="prefetch" href="/assets/js/27.35cd7490.js"><link rel="prefetch" href="/assets/js/270.1b7bd28f.js"><link rel="prefetch" href="/assets/js/271.d770801c.js"><link rel="prefetch" href="/assets/js/272.00d1c788.js"><link rel="prefetch" href="/assets/js/273.eef09449.js"><link rel="prefetch" href="/assets/js/274.ba4d252f.js"><link rel="prefetch" href="/assets/js/275.005d4e7e.js"><link rel="prefetch" href="/assets/js/276.0584c0ae.js"><link rel="prefetch" href="/assets/js/277.286662e4.js"><link rel="prefetch" href="/assets/js/278.b1e3d3cf.js"><link rel="prefetch" href="/assets/js/279.3c40e2d1.js"><link rel="prefetch" href="/assets/js/28.d01a395b.js"><link rel="prefetch" href="/assets/js/280.9d3c026d.js"><link rel="prefetch" href="/assets/js/281.d491b0f9.js"><link rel="prefetch" href="/assets/js/282.1cb27c9f.js"><link rel="prefetch" href="/assets/js/283.6ba8b407.js"><link rel="prefetch" href="/assets/js/284.af757d85.js"><link rel="prefetch" href="/assets/js/285.04b3bfcc.js"><link rel="prefetch" href="/assets/js/286.06d4607e.js"><link rel="prefetch" href="/assets/js/287.3319d6fd.js"><link rel="prefetch" href="/assets/js/288.668ebe2f.js"><link rel="prefetch" href="/assets/js/289.cae7634f.js"><link rel="prefetch" href="/assets/js/29.5507bd95.js"><link rel="prefetch" href="/assets/js/290.657bdfd6.js"><link rel="prefetch" href="/assets/js/291.d4ff094b.js"><link rel="prefetch" href="/assets/js/292.c7bacb14.js"><link rel="prefetch" href="/assets/js/293.35a0a923.js"><link rel="prefetch" href="/assets/js/294.71b58c4b.js"><link rel="prefetch" href="/assets/js/295.933b83a8.js"><link rel="prefetch" href="/assets/js/296.5d1743c4.js"><link rel="prefetch" href="/assets/js/297.ce20fec0.js"><link rel="prefetch" href="/assets/js/298.a091e8dc.js"><link rel="prefetch" href="/assets/js/299.e3840071.js"><link rel="prefetch" href="/assets/js/30.e0532eb9.js"><link rel="prefetch" href="/assets/js/300.a90025fe.js"><link rel="prefetch" href="/assets/js/301.736bd288.js"><link rel="prefetch" href="/assets/js/302.0b4e5a4b.js"><link rel="prefetch" href="/assets/js/303.bc7447b5.js"><link rel="prefetch" href="/assets/js/304.9c6d75fb.js"><link rel="prefetch" href="/assets/js/305.9510c83b.js"><link rel="prefetch" href="/assets/js/306.586c4cc0.js"><link rel="prefetch" href="/assets/js/307.6d5ca553.js"><link rel="prefetch" href="/assets/js/308.1c5438ba.js"><link rel="prefetch" href="/assets/js/309.094e0741.js"><link rel="prefetch" href="/assets/js/31.987d9766.js"><link rel="prefetch" href="/assets/js/310.f5f5c340.js"><link rel="prefetch" href="/assets/js/311.b87eac53.js"><link rel="prefetch" href="/assets/js/312.b999fff4.js"><link rel="prefetch" href="/assets/js/313.03652026.js"><link rel="prefetch" href="/assets/js/314.35c2c161.js"><link rel="prefetch" href="/assets/js/315.1abcde33.js"><link rel="prefetch" href="/assets/js/32.eb5a5673.js"><link rel="prefetch" href="/assets/js/33.4ac16ea0.js"><link rel="prefetch" href="/assets/js/34.a2b3c90c.js"><link rel="prefetch" href="/assets/js/35.a798ca1a.js"><link rel="prefetch" href="/assets/js/36.73dfb9ef.js"><link rel="prefetch" href="/assets/js/37.738c1a17.js"><link rel="prefetch" href="/assets/js/38.f78a3c94.js"><link rel="prefetch" href="/assets/js/39.e8cbaea1.js"><link rel="prefetch" href="/assets/js/4.30856fce.js"><link rel="prefetch" href="/assets/js/40.6818c7ea.js"><link rel="prefetch" href="/assets/js/41.a6bffe28.js"><link rel="prefetch" href="/assets/js/42.01f1d912.js"><link rel="prefetch" href="/assets/js/43.e4b5794f.js"><link rel="prefetch" href="/assets/js/44.55d9c3b9.js"><link rel="prefetch" href="/assets/js/45.2da966ea.js"><link rel="prefetch" href="/assets/js/46.527d7a9f.js"><link rel="prefetch" href="/assets/js/47.be7825ea.js"><link rel="prefetch" href="/assets/js/48.895e38d6.js"><link rel="prefetch" href="/assets/js/49.06afb30f.js"><link rel="prefetch" href="/assets/js/5.32d4cced.js"><link rel="prefetch" href="/assets/js/50.2bee94ed.js"><link rel="prefetch" href="/assets/js/51.86a79816.js"><link rel="prefetch" href="/assets/js/52.1161afbc.js"><link rel="prefetch" href="/assets/js/53.de72ed46.js"><link rel="prefetch" href="/assets/js/54.147e674e.js"><link rel="prefetch" href="/assets/js/55.9cf66aae.js"><link rel="prefetch" href="/assets/js/56.98261658.js"><link rel="prefetch" href="/assets/js/57.e55f4cc7.js"><link rel="prefetch" href="/assets/js/58.5ffee4dc.js"><link rel="prefetch" href="/assets/js/59.26c58ec3.js"><link rel="prefetch" href="/assets/js/6.a8dac332.js"><link rel="prefetch" href="/assets/js/60.5f9fcd83.js"><link rel="prefetch" href="/assets/js/61.18966166.js"><link rel="prefetch" href="/assets/js/62.a5baa5d4.js"><link rel="prefetch" href="/assets/js/63.6d9ea4f9.js"><link rel="prefetch" href="/assets/js/64.dc5ed5ad.js"><link rel="prefetch" href="/assets/js/65.c0c34241.js"><link rel="prefetch" href="/assets/js/66.2466b1fe.js"><link rel="prefetch" href="/assets/js/67.7a876940.js"><link rel="prefetch" href="/assets/js/68.24448921.js"><link rel="prefetch" href="/assets/js/69.c126a190.js"><link rel="prefetch" href="/assets/js/7.a85ae9ce.js"><link rel="prefetch" href="/assets/js/70.be781499.js"><link rel="prefetch" href="/assets/js/71.765e2d70.js"><link rel="prefetch" href="/assets/js/72.b13be4f3.js"><link rel="prefetch" href="/assets/js/73.87fe7cc2.js"><link rel="prefetch" href="/assets/js/74.3ee1bc51.js"><link rel="prefetch" href="/assets/js/75.0fb8f7b6.js"><link rel="prefetch" href="/assets/js/76.2a2314d4.js"><link rel="prefetch" href="/assets/js/77.f462930d.js"><link rel="prefetch" href="/assets/js/78.5a31a5a3.js"><link rel="prefetch" href="/assets/js/79.2f48e5ca.js"><link rel="prefetch" href="/assets/js/8.dbca2b31.js"><link rel="prefetch" href="/assets/js/80.4b73e29a.js"><link rel="prefetch" href="/assets/js/81.b7278dd1.js"><link rel="prefetch" href="/assets/js/82.c0d290b3.js"><link rel="prefetch" href="/assets/js/83.a5c1c1d3.js"><link rel="prefetch" href="/assets/js/84.fc5af720.js"><link rel="prefetch" href="/assets/js/85.3864c6e8.js"><link rel="prefetch" href="/assets/js/86.7fe1bc2b.js"><link rel="prefetch" href="/assets/js/87.0de66e95.js"><link rel="prefetch" href="/assets/js/88.435035c5.js"><link rel="prefetch" href="/assets/js/89.7d0ea427.js"><link rel="prefetch" href="/assets/js/9.ed9a9b09.js"><link rel="prefetch" href="/assets/js/90.b9967b51.js"><link rel="prefetch" href="/assets/js/91.c1f780c4.js"><link rel="prefetch" href="/assets/js/92.d08bdef7.js"><link rel="prefetch" href="/assets/js/93.2ee03eed.js"><link rel="prefetch" href="/assets/js/94.74cb8cac.js"><link rel="prefetch" href="/assets/js/95.be80f207.js"><link rel="prefetch" href="/assets/js/96.dafba035.js"><link rel="prefetch" href="/assets/js/97.754c7758.js"><link rel="prefetch" href="/assets/js/98.496cef28.js"><link rel="prefetch" href="/assets/js/99.a427ee17.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a0dd32a5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">刘一笔的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/LearnTech/" class="nav-link">
  技术学习
</a></div><div class="nav-item"><a href="/Projects/" class="nav-link">
  项目记录
</a></div><div class="nav-item"><a href="/YearReview/" class="nav-link">
  年终回顾
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  阅读记录
</a></div><div class="nav-item"><a href="/IdeaPills/" class="nav-link">
  闪念
</a></div><div class="nav-item"><a href="/CodingTool/" class="nav-link">
  编程工具
</a></div><div class="nav-item"><a href="https://github.com/OrangeSAM" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow down"></span></button> <button type="button" aria-label="友链" class="mobile-dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.lxchuan12.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  若川博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wind-nest.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  森淼
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.mybeifeng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  北风
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/LearnTech/" class="nav-link">
  技术学习
</a></div><div class="nav-item"><a href="/Projects/" class="nav-link">
  项目记录
</a></div><div class="nav-item"><a href="/YearReview/" class="nav-link">
  年终回顾
</a></div><div class="nav-item"><a href="/Reading/" class="nav-link">
  阅读记录
</a></div><div class="nav-item"><a href="/IdeaPills/" class="nav-link">
  闪念
</a></div><div class="nav-item"><a href="/CodingTool/" class="nav-link">
  编程工具
</a></div><div class="nav-item"><a href="https://github.com/OrangeSAM" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow down"></span></button> <button type="button" aria-label="友链" class="mobile-dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.lxchuan12.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  若川博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wind-nest.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  森淼
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.mybeifeng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  北风
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OnlineCourse</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>开课吧</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OnlineCourse/开课吧/Node.js.html" class="sidebar-link">node.js</a></li><li><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html" class="active sidebar-link">Vue.js全家桶及源码剖析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#_1-vue全家桶原理和实现" class="sidebar-link">1. Vue全家桶原理和实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#问题" class="sidebar-link">问题</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#官方文档中的插件" class="sidebar-link">官方文档中的插件</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#vue-router需求分析" class="sidebar-link">Vue-Router需求分析</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#笔记" class="sidebar-link">笔记</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#疑惑" class="sidebar-link">疑惑</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#作业" class="sidebar-link">作业</a></li></ul></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#_2-手写vue" class="sidebar-link">2. 手写Vue</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#_3-vue2源码剖析01" class="sidebar-link">3. Vue2源码剖析01</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#vue2源码剖析02" class="sidebar-link">Vue2源码剖析02</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#vue2源码剖析03" class="sidebar-link">Vue2源码剖析03</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#_6-vue组件化实践" class="sidebar-link">6.Vue组件化实践</a></li><li class="sidebar-sub-header"><a href="/OnlineCourse/开课吧/Vue全家桶及源码解析.html#vue2源码剖析03-2" class="sidebar-link">Vue2源码剖析03</a></li></ul></li><li><a href="/OnlineCourse/开课吧/Webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/OnlineCourse/开课吧/Vue面试训练营.html" class="sidebar-link">Vue面试训练营</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CodeWhy</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>拉勾</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>极客时间</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-vue全家桶原理和实现"><a href="#_1-vue全家桶原理和实现" class="header-anchor">#</a> 1. Vue全家桶原理和实现</h2> <h3 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h3> <ol><li>Vue.use到底做了什么
<ol><li>目的是安装Vue插件</li> <li>会将Vue作为参数传入插件的install方法(如果插件是个函数，那么他就是install方法本身)</li> <li>Vue.use的核心方法在<code>src/core/global-api/use.js</code>下
<ol><li>总计不到20行，核心逻辑如下</li> <li>获取已安装的插件数组，如果存在则直接返回this</li> <li>不存在则执行插件的install方法</li></ol></li></ol></li> <li>为什么要把router的实例挂载到Vue实例的选项中
1.</li> <li>为什么要加上router-view</li> <li>为什么可以直接用router-link和router-view</li></ol> <h3 id="官方文档中的插件"><a href="#官方文档中的插件" class="header-anchor">#</a> 官方文档中的插件</h3> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>Vue.use( plugin )
参数：

{Object | Function} plugin
用法：

安装 Vue.js 插件。如果插件是一个对象，必须提供 install 方法。如果插件是一个函数，它会被作为 install 方法。install 方法调用时，会将 Vue 作为参数传入。

该方法需要在调用 new Vue() 之前被调用。

当 install 方法被同一个插件多次调用，插件将只会被安装一次。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>Vue.js 的插件应该暴露一个 install 方法。这个方法的第一个参数是 Vue 构造器，第二个参数是一个可选的选项对象：
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>MyPlugin<span class="token punctuation">.</span><span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 添加全局方法或 property</span>
  Vue<span class="token punctuation">.</span><span class="token function-variable function">myGlobalMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 逻辑...</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 2. 添加全局资源</span>
  Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'my-directive'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">bind</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> oldVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 逻辑...</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 3. 注入组件选项</span>
  Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">created</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 逻辑...</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 4. 添加实例方法</span>
  <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">methodOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 逻辑...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="vue-router需求分析"><a href="#vue-router需求分析" class="header-anchor">#</a> Vue-Router需求分析</h3> <p>单页面应用程序中，url发生变化时候，不能刷新，显示对应视图内容</p> <ol><li><p>SPA页面不能刷新</p> <ul><li>hash （#/about</li> <li>history （api /about</li></ul></li> <li><p>根据url显示对应的内容</p> <ul><li>router-view</li> <li>数据响应式：current变量持有url地址，一旦变化，动态重新执行render</li></ul></li></ol> <h3 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h3> <ol><li>实现一个插件
<ul><li>实现VueRouter类
<ul><li>处理路由选项</li> <li>监控url变化，hashchange</li> <li>响应这个变化</li></ul></li> <li>实现install方法
<ul><li>$router注册</li> <li>两个全局组件</li></ul></li></ul></li></ol> <h3 id="笔记"><a href="#笔记" class="header-anchor">#</a> 笔记</h3> <ol><li>this.$options 获得当前组件的选项配置</li> <li>h 函数是什么，
<ul><li>h是render函数调用是，框架传入的createElement</li> <li>等同于react中createElement，返回vdom</li> <li>再多研究下</li></ul></li> <li>什么是jsx</li> <li>Vue.util. defineReactive()</li> <li>再研究下Object.defineProperty</li> <li>vue插件的核心
<ul><li>提供一个名为install的方法</li> <li>Vue.use的时候会调用这个方法</li> <li>（所以可以理解我们在用组件库的时候，Vue.use其实就是全局注册了那个组件罢了，当然，install远不止可以做组件注册的事。）</li> <li>来自官方文档：安装 Vue.js 插件。如果插件是一个对象，必须提供 install 方法。
如果插件是一个函数，它会被作为 install 方法。install 方法调用时，会将 Vue 作为参数传入。
该方法需要在调用 new Vue() 之前被调用。</li> <li>Vue.use 中的Vue是一个构造函数，而不是一个实例</li> <li>从Vue源码中可以发现，Use函数的参数应该是函数或者对象
<ul><li>export function initUse (Vue: GlobalAPI) {
Vue.use = function (plugin: Function | Object) {}
}</li></ul></li></ul></li> <li>new Vue({
router,
store,
render: h =&gt; h(App)
}).$mount('#app')
router只能在根实例中拿到</li> <li>Vue.Component的参数及用法
<ul><li>参数：
<ul><li>{string} id</li> <li>{Function | Object} [definition]</li></ul></li> <li>用法：
<ul><li>注册或获取全局组件。注册还会自动使用给定的 id 设置组件的名称</li> <li>// 注册组件，传入一个扩展过的构造器</li> <li>Vue.component('my-component', Vue.extend({ /* ... */ }))</li> <li>// 注册组件，传入一个选项对象 (自动调用 Vue.extend)</li> <li>Vue.component('my-component', { /* ... */ }) // 常用</li> <li>// 获取注册的组件 (始终返回构造器)</li> <li>var MyComponent = Vue.component('my-component')
我们注册组件的常用无非如下两种，但实际都是借助component实现的，区别在于手动和自动</li></ul></li> <li>Vue.use(SForm)</li> <li>Vue.component('SForm', SForm)</li></ul></li> <li><img src="https://i.loli.net/2021/07/10/AJlxji5vCV9EOFH.png" alt="">
从如上图可以看出，只有根实例的options中才有传入的VueRouter实例，但是每个组件都能直接获取到VueRouter
但又感到迷惑的是，每个子组件上都直接的拥有$router属性，本以为是挂载Vue的原型上，顺着原型链去获取使用的，#迷惑
10.Vue生态内实现数据响应式的两个方案，vue.util.defineReactive &amp;&amp; new Vue({})</li></ol> <h3 id="疑惑"><a href="#疑惑" class="header-anchor">#</a> 疑惑</h3> <ol><li>在视频59‘左右说到，在实现router-view的时候不能直接写模板，因为我们cli环境下，用的是runtime版本的vue。
疑惑在于，我们写业务代码不是写了很多模板吗，为什么就可以呢。临时贴图如下。
<img src="https://s2.loli.net/2021/12/19/tbBgV2ZFaixD6jI.png" alt=""></li></ol> <p>重看到1.30分</p> <h3 id="作业"><a href="#作业" class="header-anchor">#</a> 作业</h3> <ol><li><p>解决router无限循环的问题</p></li> <li><p>实现getters</p></li></ol> <p><em>写第一课作业实现getters遇到的问题</em></p> <ol><li>getters本质上就是用户给我们一个函数的实现，当用户在使用这个函数的时候，通过运算这个函数为用户返回一个确认的值。</li> <li>像commit那样处理getters的话，为啥getters没反应（更新，因为getters不是函数）</li> <li>后面又觉得应该像state那样处理getters，但是get方法不能拿到参数</li> <li></li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// 我想为这个getters bind 到当前state上，但是我不知道他的getters是啥</span>
   <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$$state
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>最开始我是没有很明确的思路，看到state、commit和dispatch的实现就想着先照着抄。但实际上后面就陷阱里头了。
现在醒悟过来分析一看，state的实现思路是一类，commit和dispatch的实现思路又是一类。state只需要实现获取就好了，后两个是需要实现方法。
但这两者的思路，getters都套用不上。</p> <p><em>错误思路一</em>，这个思路没用的原因是getters点出来的东西不是个函数，他是一个直接取的动作。所以如下的方法不会被触发。有点牛头不对马嘴的感觉。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>  <span class="token function">getters</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 拿到的value，应该是用户想要用的getters，比如这里的doubleCounter</span>
    <span class="token keyword">const</span> getter <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getters</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>getter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'unknown getters'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token function">getter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><em>错误思路二</em>，这个思路是完全走到了死胡同。问题在于，get不知道当前用户点的是啥。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">getters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 我想为这个getters bind 到当前state上，但是我不知道他的getters是啥</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$$getters<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$$getters
<span class="token punctuation">}</span>
  
<span class="token keyword">set</span> <span class="token function">getters</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'222'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><hr> <h2 id="_2-手写vue"><a href="#_2-手写vue" class="header-anchor">#</a> 2. 手写Vue</h2> <p>更新dom的两种策略</p> <ol><li><p>一块视图对应一个updater，数据更新，对应的视图就会被更新</p></li> <li><p>使用虚拟dom，更新视图的事交给patch去解决 // patch(oldvdom, vdom)
数据响应式原理
Object.defineProperty()
Vue.util.defineReactive()
Vue.observable()
new Vue({
data(){}
})</p></li> <li><p>MVVM框架的三要素：数据响应式、模板引擎及其渲染</p></li></ol> <p>依赖收集</p> <h2 id="_3-vue2源码剖析01"><a href="#_3-vue2源码剖析01" class="header-anchor">#</a> 3. Vue2源码剖析01</h2> <div class="language-markdown line-numbers-mode"><pre class="language-markdown"><code>
.
|-vue
  |-.circleci
  |-.git
  |-.github
  |-.idea
  |-benchmarks
  |-dist
  |-examples // 范例
  |-flow
  |-packages // 核心代码之外的独立库
  |  |-vue-server-renderer
  |  |  |-types
  |  |-vue-template-compiler
  |  |  |-types
  |  |-weex-template-compiler
  |  |-weex-vue-framework
  |-scripts // 构建脚本
  |  |-git-hooks
  |-src // 源码
  |  |-compiler // 编译器相关
  |  |  |-codegen
  |  |  |-directives
  |  |  |-parser
  |  |-core // 核心代码，重要
  |  |  |-components // 通用组件如keep-alive
  |  |  |-global-api // 全局api Vue.component
  |  |  |-instance // 构造函数
  |  |  |-observer // 响应式相关
  |  |  |-util
  |  |  |-vdom // 虚拟dom
  |  |-platforms
  |  |  |-web
  |  |  |  |-compiler
  |  |  |  |-runtime
  |  |  |  |-server
  |  |  |  |-util
  |  |  |-weex
  |  |-server
  |  |  |-bundle-renderer
  |  |  |-optimizing-compiler
  |  |  |-template-renderer
  |  |  |-webpack-plugin
  |  |-sfc
  |  |-shared
  |-test
  |-types // ts 类型声明，上面flow是针对flow的类型声明
  |  |-test

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><p>运行时和编译器又是啥</p> <table><thead><tr><th>版本\模块化方式</th> <th>UMD</th> <th>CommonJS</th> <th>ES Module(基于构建工具使用)</th> <th>ES Module(直接用于浏览器)</th></tr></thead> <tbody><tr><td>完整版</td> <td>vue.js</td> <td>vue.common.js</td> <td>vue.esm.js</td> <td>vue.esm.browser.js</td></tr> <tr><td>只包含运行时版</td> <td>vue.runtime.js</td> <td>vue.runtime.common.js</td> <td>vue.runtime.esm.js</td> <td>-</td></tr> <tr><td>完整版(生产环境)</td> <td>vue.min.js</td> <td>-</td> <td>-</td> <td>vue.esm.browser.min.js</td></tr> <tr><td>只包含运行时版(生产环境)</td> <td>vue.runtime.min.js</td> <td>-</td> <td>-</td> <td>-</td></tr></tbody></table> <ul><li><em>完整版</em>： 同时包含编译器和运行时的版本</li> <li><em>编译器</em>： 用来将模板字符串编译成为JavaScript渲染函数的代码</li> <li><em>运行时</em>： 用来创建Vue实例，渲染并处理虚拟DOM等的代码，基本就是除去编译器的其他一切</li> <li><em>UMD</em>  ： UMD版本可以通过<code>&lt;script&gt;</code>标签直接用在浏览器上</li> <li><em>CommonJS</em>：CommonJS版本用来配合老的打包工具比如Browserify 或webpack1，这些打包工具的默认文件pkg.main是只包含运行时的CommonJS版本(Vue.runtime.common.js)</li> <li><em>ES Module</em>： 为打包工具提供的ESM(webpack2、Rollup)；为浏览器提供的ESM</li></ul> <ol><li><p>为啥webpack打包不需要编译器版本的？21.45</p></li> <li><p>把new vue到页面渲染的全流程写下来，直到页面呈现</p></li> <li><p>各种文件</p> <ul><li>src/platforms/web/entry-runtime-with-compiler.js
<ul><li>打包入口文件，拓展$mount</li></ul></li> <li>src/platforms/web/runtime/index.js
<ul><li>安装平台特有patch函数，patch作用是将vdom转换为dom
<ul><li>init 完整创建</li> <li>update diff oldvnode &amp; vnode</li></ul></li> <li>实现挂载方法</li></ul></li> <li>src/core/index.js
<ul><li>初始化所有全局API Vue.component/filter</li></ul></li> <li>src/core/instance/index.js
<ul><li>声明Vue</li></ul></li> <li>src/core/instance/init.js
<ul><li>初始化Vue</li></ul></li> <li>src/core/instance/lifecycle.js
<ul><li>挂载</li> <li>updateComponent</li> <li>new Watcher 一个组件一个watcher</li> <li>执行render获得虚拟dom</li> <li>patch =&gt; dom</li></ul></li></ul></li></ol> <p>浏览器快捷键
打开文件 ctrl + p
运行命令 ctrl + shift + p
D:\Repo\openSource\famous\vue\src\platforms\web\entry-runtime-with-compiler.js // 打包入口文件
render &gt; template &gt; el</p> <h2 id="vue2源码剖析02"><a href="#vue2源码剖析02" class="header-anchor">#</a> Vue2源码剖析02</h2> <h2 id="vue2源码剖析03"><a href="#vue2源码剖析03" class="header-anchor">#</a> Vue2源码剖析03</h2> <h2 id="_6-vue组件化实践"><a href="#_6-vue组件化实践" class="header-anchor">#</a> 6.Vue组件化实践</h2> <p>slotProps</p> <h2 id="vue2源码剖析03-2"><a href="#vue2源码剖析03-2" class="header-anchor">#</a> Vue2源码剖析03</h2> <ol><li>父子组件的创建挂载</li></ol> <ul><li>创建过程自上而下</li> <li>挂载过程自下而上</li> <li>异步组件另当别论
parent
created
child
created
mounted
mounted</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">一笔写于:</span> <span class="time">12/19/2021, 9:46:16 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/OnlineCourse/开课吧/Node.js.html" class="prev">
        node.js
      </a></span> <span class="next"><a href="/OnlineCourse/开课吧/Webpack.html">
        Webpack
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div class="wrap" data-v-8a4b0db0><div class="tips" data-v-8a4b0db0>扫码添加我的微信</div> <div class="img-wrap" data-v-8a4b0db0><img src="/assets/img/personal.ee8e3062.jpg" alt="个人" data-v-8a4b0db0> <div data-v-8a4b0db0>个人号</div> <img src="/assets/img/official.2918609b.jpg" alt="公众号" data-v-8a4b0db0> <div data-v-8a4b0db0>公众号</div></div></div></div></div>
    <script src="/assets/js/app.76e21587.js" defer></script><script src="/assets/js/2.ef2f9e2c.js" defer></script><script src="/assets/js/173.064a0a2e.js" defer></script><script src="/assets/js/3.1b3369a5.js" defer></script>
  </body>
</html>
